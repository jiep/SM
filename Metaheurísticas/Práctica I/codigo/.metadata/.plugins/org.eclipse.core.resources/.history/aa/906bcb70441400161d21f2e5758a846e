package es.urjc.phub;

import java.io.File;
import java.io.IOException;
import java.util.Scanner;
import java.util.Vector;

public class PHub {
	
	static double[][] calcularDistancias(Vector posiciones[]){
		int n = posiciones.length; 
		double[][] distancias = new double[n][n];
		
		for(int i = 0; i < n; i++){
			for(int j = 0; i < j; j++){
				double 
				distancias = sqrt()
			}
		}
	}
	
	static InstanciaPHub leerInstancia(String filepath){
		
		int nodos = 0;
		int servidores = 0;
		int capacidad = 0;
		
		int demanda[] = null;
		
		try{
            Scanner scanner = new Scanner(new File(filepath));
            
            /*
             * Leemos la primera línea
             */
            String linea1 = scanner.nextLine(); 
                        
            String datos[] = linea1.split(" ");

            /*
             *  Comenzamos a leer los datos desde el elemento 1, puesto que
             *  cada línea comienza con un espacio
             */
            nodos = Integer.parseInt(datos[1]);
            servidores = Integer.parseInt(datos[2]);
            capacidad = Integer.parseInt(datos[3]);
            
            /*
             * Creamos el vector de demanda
             */
            demanda = new int[nodos];
            
            /*
             * Matriz de vectores para guardar la 
             * posición (x,y) de cada nodo
             */
            Vector<Double>[] posiciones = new Vector[nodos];
            
            for(int i = 0; i < nodos; i++){
            	
            	 Vector<Double> posicion = new Vector<>(2);
            	 
            	 // Número de nodo
            	 int num_nodo = scanner.nextInt();
            	 // Posición (x,y) del nodo
            	 double pos_x = scanner.nextDouble();
            	 double pos_y = scanner.nextDouble();
            	 
            	 // Añadimos posición al vector
                 posicion.add(pos_x);
                 posicion.add(pos_y);
                 posiciones[i] = posicion;
                 
                 // Añadimos demanda al vector
                 demanda[i] = scanner.nextInt();
            }
            scanner.close();
        }catch(IOException e){
        	System.out.println("No se pudo leer el archivo correctamente.");
        }
		
		return new InstanciaPHub(nodos, servidores, distancia, demanda, capacidad);

	}
	
	
	

	public static void main(String[] args) {
		leerInstancia("instancias/phub_50_5_1.txt");
	}

}
